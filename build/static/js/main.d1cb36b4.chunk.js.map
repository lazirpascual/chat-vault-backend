{"version":3,"sources":["context/AuthReducer.js","context/AuthContext.js","context/AuthActions.js","components/topbar/Topbar.jsx","dummyData.js","components/friends/Friends.jsx","components/sidebar/Sidebar.jsx","components/share/Share.jsx","components/post/Post.jsx","components/feed/Feed.jsx","components/online/Online.jsx","components/rightbar/Rightbar.jsx","pages/home/Home.jsx","services/auth.js","pages/login/Login.jsx","pages/profile/Profile.jsx","pages/register/Register.jsx","components/chatOnline/ChatOnline.jsx","components/conversations/Conversation.jsx","components/message/Message.jsx","pages/messenger/Messenger.jsx","App.js","index.js"],"names":["AuthReducer","state","action","type","user","isFetching","error","payload","followings","filter","following","INITIAL_STATE","JSON","parse","localStorage","getItem","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","useEffect","setItem","stringify","Provider","value","Follow","userId","Topbar","useContext","PF","process","className","to","style","textDecoration","Search","placeholder","color","onClick","params","window","removeItem","Person","Chat","Notifications","username","src","profilePicture","alt","Users","id","Friends","sidebarItems","icon","RssFeed","name","PlayCircleFilledOutlined","Group","Bookmark","HelpOutline","WorkOutline","Event","School","Sidebar","map","item","u","shareItems","Label","htmlColor","Room","EmojiEmotions","Share","desc","useRef","useState","file","setFile","handleSubmit","event","a","preventDefault","newPost","_id","current","data","FormData","fileName","Date","now","append","img","axios","post","console","log","location","reload","ref","URL","createObjectURL","Cancel","onSubmit","htmlFor","PermMedia","display","accept","onChange","e","target","files","Post","likes","length","like","setLike","isLiked","setIsLiked","setUser","currentUser","includes","get","res","fetchUser","likeHandler","put","format","createdAt","MoreVert","comment","Feed","posts","setPosts","sort","p1","p2","fetchPosts","p","Online","Rightbar","friends","setFriends","followed","setFollowed","friendList","getFriends","handleClick","Remove","Add","city","from","relationship","friend","href","Home","loginCall","userCredential","response","registerCall","Login","email","password","history","useHistory","required","minLength","disabled","CircularProgress","size","push","Profile","useParams","coverPicture","Register","passwordAgain","setCustomValidity","registerResponse","loginResponse","ChatOnline","onlineUsers","currentId","setCurrentChat","onlineFriends","setOnlineFriends","Conversation","conversation","friendId","members","find","m","getUser","Message","own","message","sender","text","Messenger","conversations","setConversations","currentChat","newMessage","setNewMessage","arrivalMessage","setArrivalMessage","messages","setMessages","setOnlineUsers","socket","scrollRef","io","on","senderId","prev","emit","users","f","some","getConversations","getMessages","scrollIntoView","behaviour","conversationId","receiverId","member","c","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d1cb36b4.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN_START\":\n      return {\n        user: null,\n        isFetching: true,\n        error: false,\n      };\n    case \"LOGIN_SUCCESS\":\n      return {\n        user: action.payload,\n        isFetching: false,\n        error: false,\n      };\n    case \"LOGIN_FAILURE\":\n      return {\n        user: null,\n        isFetching: false,\n        error: true,\n      };\n    case \"LOGOUT\":\n      return {\n        user: null,\n        isFetching: false,\n        error: false,\n      };\n    case \"FOLLOW\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          followings: [...state.user.followings, action.payload],\n        },\n      };\n    case \"UNFOLLOW\":\n      return {\n        ...state,\n        user: {\n          ...state.user,\n          followings: state.user.followings.filter(\n            (following) => following !== action.payload\n          ),\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nexport default AuthReducer;\n","import { createContext, useReducer, useEffect } from \"react\";\nimport AuthReducer from \"./AuthReducer\";\n\nconst INITIAL_STATE = {\n  user: JSON.parse(localStorage.getItem(\"user\")) || null,\n  isFetching: false,\n  error: false,\n};\n\nexport const AuthContext = createContext(INITIAL_STATE);\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\n\n  useEffect(() => {\n    localStorage.setItem(\"user\", JSON.stringify(state.user));\n  }, [state.user]);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        user: state.user,\n        isFetching: state.isFetching,\n        error: state.error,\n        dispatch,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","export const LoginStart = () => ({\n  type: \"LOGIN_START\",\n});\n\nexport const LoginSuccess = (userCredentials) => ({\n  type: \"LOGIN_SUCCESS\",\n  payload: userCredentials,\n});\n\nexport const LoginFailure = (error) => ({\n  type: \"LOGIN_FAILURE\",\n  payload: error,\n});\n\nexport const LogoutCall = () => ({\n  type: \"LOGOUT\",\n});\n\nexport const Follow = (userId) => ({\n  type: \"FOLLOW\",\n  payload: userId,\n});\n\nexport const Unfollow = (userId) => ({\n  type: \"UNFOLLOW\",\n  payload: userId,\n});\n","import React, { useContext } from \"react\";\nimport \"./topbar.css\";\nimport { Search, Person, Chat, Notifications } from \"@material-ui/icons\";\nimport { Link } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { LogoutCall } from \"../../context/AuthActions\";\n\nconst Topbar = () => {\n  const { user, dispatch } = useContext(AuthContext);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n  const handleLogout = (params) => {\n    window.localStorage.removeItem(\"user\");\n    dispatch(LogoutCall());\n  };\n\n  return (\n    <div className=\"topbarContainer\">\n      <div className=\"topbarLeft\">\n        <Link to=\"/\" style={{ textDecoration: \"none\" }}>\n          <span className=\"logo\">Chat Vault</span>\n        </Link>\n      </div>\n      <div className=\"topbarCenter\">\n        <div className=\"searchBar\">\n          <Search className=\"searchIcon\" />\n          <input\n            placeholder=\"Search for friend, post or video\"\n            className=\"searchInput\"\n          />\n        </div>\n      </div>\n      <div className=\"topbarRight\">\n        <div className=\"topbarLinks\">\n          <Link to=\"/\" style={{ textDecoration: \"none\", color: \"white\" }}>\n            <span className=\"topbarLink\">Home</span>\n          </Link>\n          <span className=\"topbarLink\" onClick={handleLogout}>\n            Log Out\n          </span>\n        </div>\n        <div className=\"topbarIcons\">\n          <div className=\"topbarIconItem\">\n            <Person />\n            <span className=\"topbarIconBadge\">1</span>\n          </div>\n          <Link\n            to=\"/messenger\"\n            style={{ textDecoration: \"none\", color: \"white\" }}\n          >\n            <div className=\"topbarIconItem\">\n              <Chat />\n              <span className=\"topbarIconBadge\">2</span>\n            </div>\n          </Link>\n          <div className=\"topbarIconItem\">\n            <Notifications />\n            <span className=\"topbarIconBadge\">1</span>\n          </div>\n        </div>\n      </div>\n      <Link to={`/profile/${user?.username}`}>\n        <img\n          src={\n            user?.profilePicture\n              ? `${PF}${user?.profilePicture}`\n              : `${PF}person/noAvatar.png`\n          }\n          alt=\"\"\n          className=\"topbarImg\"\n        />\n      </Link>\n    </div>\n  );\n};\n\nexport default Topbar;\n","export const Users = [\n  {\n    id: 1,\n    profilePicture: \"person/1.jpeg\",\n    username: \"Safak Kocaoglu\",\n  },\n  {\n    id: 2,\n    profilePicture: \"person/2.jpeg\",\n    username: \"Janell Shrum\",\n  },\n  {\n    id: 3,\n    profilePicture: \"person/3.jpeg\",\n    username: \"Alex Durden\",\n  },\n  {\n    id: 4,\n    profilePicture: \"person/4.jpeg\",\n    username: \"Dora Hawks\",\n  },\n  {\n    id: 5,\n    profilePicture: \"person/5.jpeg\",\n    username: \"Thomas Holden\",\n  },\n  {\n    id: 6,\n    profilePicture: \"person/6.jpeg\",\n    username: \"Shirley Beauchamp\",\n  },\n  {\n    id: 7,\n    profilePicture: \"person/7.jpeg\",\n    username: \"Travis Bennett\",\n  },\n  {\n    id: 8,\n    profilePicture: \"person/8.jpeg\",\n    username: \"Kristen Thomas\",\n  },\n  {\n    id: 9,\n    profilePicture: \"person/9.jpeg\",\n    username: \"Gary Duty\",\n  },\n  {\n    id: 10,\n    profilePicture: \"person/10.jpeg\",\n    username: \"Safak Kocaoglu\",\n  },\n];\n\nexport const Posts = [\n  {\n    id: 1,\n    desc: \"Love For All, Hatred For None.\",\n    photo: \"post/1.jpeg\",\n    date: \"5 mins ago\",\n    userId: 1,\n    like: 32,\n    comment: 9,\n  },\n  {\n    id: 2,\n    photo: \"post/2.jpeg\",\n    date: \"15 mins ago\",\n    userId: 2,\n    like: 2,\n    comment: 1,\n  },\n  {\n    id: 3,\n    desc: \"Every moment is a fresh beginning.\",\n    photo: \"post/3.jpeg\",\n    date: \"1 hour ago\",\n    userId: 3,\n    like: 61,\n    comment: 2,\n  },\n  {\n    id: 4,\n    photo: \"post/4.jpeg\",\n    date: \"4 hours ago\",\n    userId: 4,\n    like: 7,\n    comment: 3,\n  },\n  {\n    id: 5,\n    photo: \"post/5.jpeg\",\n    date: \"5 hours ago\",\n    userId: 5,\n    like: 23,\n    comment: 5,\n  },\n  {\n    id: 6,\n    photo: \"post/6.jpeg\",\n    date: \"1 day ago\",\n    userId: 6,\n    like: 44,\n    comment: 6,\n  },\n  {\n    id: 7,\n    desc: \"Never regret anything that made you smile.\",\n    photo: \"post/7.jpeg\",\n    date: \"2 days ago\",\n    userId: 7,\n    like: 52,\n    comment: 3,\n  },\n  {\n    id: 8,\n    photo: \"post/8.jpeg\",\n    date: \"3 days ago\",\n    userId: 8,\n    like: 15,\n    comment: 1,\n  },\n  {\n    id: 9,\n    desc: \"Change the world by being yourself.\",\n    photo: \"post/9.jpeg\",\n    date: \"5 days ago\",\n    userId: 9,\n    like: 11,\n    comment: 2,\n  },\n  {\n    id: 10,\n    photo: \"post/10.jpeg\",\n    date: \"1 week ago\",\n    userId: 10,\n    like: 104,\n    comment: 12,\n  },\n];\n","import React from \"react\";\nimport \"./friends.css\";\n\nconst Friends = ({ user }) => {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n  return (\n    <li className=\"sidebarFriend\">\n      <img src={PF + user.profilePicture} alt=\"\" className=\"sidebarFriendImg\" />\n      <span className=\"sidebarFriendName\">{user.username}</span>\n    </li>\n  );\n};\n\nexport default Friends;\n","import React from \"react\";\nimport { Users } from \"../../dummyData\";\nimport \"./sidebar.css\";\nimport {\n  RssFeed,\n  Chat,\n  PlayCircleFilledOutlined,\n  Group,\n  Bookmark,\n  HelpOutline,\n  WorkOutline,\n  Event,\n  School,\n} from \"@material-ui/icons\";\nimport Friends from \"../friends/Friends\";\n\nconst sidebarItems = [\n  { icon: <RssFeed className=\"sidebarIcon\" />, name: \"Feed\" },\n  { icon: <Chat className=\"sidebarIcon\" />, name: \"Chats\" },\n  {\n    icon: <PlayCircleFilledOutlined className=\"sidebarIcon\" />,\n    name: \"Videos\",\n  },\n  { icon: <Group className=\"sidebarIcon\" />, name: \"Groups\" },\n  { icon: <Bookmark className=\"sidebarIcon\" />, name: \"Bookmarks\" },\n  { icon: <HelpOutline className=\"sidebarIcon\" />, name: \"Questions\" },\n  { icon: <WorkOutline className=\"sidebarIcon\" />, name: \"Jobs\" },\n  { icon: <Event className=\"sidebarIcon\" />, name: \"Events\" },\n  { icon: <School className=\"sidebarIcon\" />, name: \"Courses\" },\n];\n\nconst Sidebar = () => {\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebarWrapper\">\n        <ul className=\"sidebarList\">\n          {sidebarItems.map((item) => (\n            <li key={item.name} className=\"sidebarListItem\">\n              {item.icon}\n              <span>{item.name}</span>\n            </li>\n          ))}\n        </ul>\n        <button className=\"sidebarButton\">Show More</button>\n        <hr className=\"sidebarHr\" />\n        <ul className=\"sidebarFriendList\">\n          {Users.map((u) => (\n            <Friends key={u.id} user={u} />\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default Sidebar;\n","import React, { useContext, useRef, useState } from \"react\";\nimport { PermMedia, Label, Room, EmojiEmotions } from \"@material-ui/icons\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { Cancel } from \"@material-ui/icons\";\nimport \"./share.css\";\nimport axios from \"axios\";\n\nconst shareItems = [\n  {\n    icon: <Label htmlColor=\"blue\" className=\"shareIcon\" />,\n    name: \"Tag\",\n  },\n  {\n    icon: <Room htmlColor=\"green\" className=\"shareIcon\" />,\n    name: \"Location\",\n  },\n  {\n    icon: <EmojiEmotions htmlColor=\"goldrenrod\" className=\"shareIcon\" />,\n    name: \"Reaction\",\n  },\n];\n\nconst Share = () => {\n  const { user } = useContext(AuthContext);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const desc = useRef();\n  const [file, setFile] = useState(null);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const newPost = {\n      userId: user._id,\n      desc: desc.current.value,\n    };\n    if (file) {\n      const data = new FormData();\n      const fileName = Date.now() + file.name;\n      data.append(\"name\", fileName);\n      data.append(\"file\", file);\n      newPost.img = fileName;\n      try {\n        await axios.post(\"/upload\", data);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    try {\n      await axios.post(\"/posts\", newPost);\n      window.location.reload(); // reload page to update post state\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <div className=\"share\">\n      <div className=\"shareWrapper\">\n        <div className=\"shareTop\">\n          <img\n            src={\n              user.profilePicture\n                ? `${PF}${user.profilePicture}`\n                : `${PF}person/noAvatar.png`\n            }\n            alt=\"Profile\"\n            className=\"shareProfileImg\"\n          />\n          <input\n            placeholder={`What's on your mind, ${user.username}?`}\n            className=\"shareInput\"\n            ref={desc}\n          />\n        </div>\n        <hr className=\"shareHr\" />\n        {file && (\n          <div className=\"shareImgContainer\">\n            <img src={URL.createObjectURL(file)} alt=\"\" className=\"shareImg\" />\n            <Cancel className=\"shareCancel\" onClick={() => setFile(null)} />\n          </div>\n        )}\n        <form className=\"shareBottom\" onSubmit={handleSubmit}>\n          <div className=\"shareOptions\">\n            <label htmlFor=\"file\" className=\"shareOption\">\n              <PermMedia htmlColor=\"tomato\" className=\"shareIcon\" />\n              <span className=\"shareOptionText\">Photo or Video</span>\n              <input\n                style={{ display: \"none\" }}\n                type=\"file\"\n                id=\"file\"\n                accept=\".png, .jpg, .jpeg\"\n                onChange={(e) => setFile(e.target.files[0])}\n              />\n            </label>\n            {shareItems.map((item) => (\n              <div key={item.name} className=\"shareOption\">\n                {item.icon}\n                <span className=\"shareOptionText\">{item.name}</span>\n              </div>\n            ))}\n          </div>\n          <button type=\"submit\" className=\"shareButton\">\n            Share\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Share;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport { format } from \"timeago.js\";\nimport { Link } from \"react-router-dom\";\nimport { MoreVert } from \"@material-ui/icons\";\nimport \"./post.css\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nconst Post = ({ post }) => {\n  const [like, setLike] = useState(post.likes ? post.likes.length : 0);\n  const [isLiked, setIsLiked] = useState(false);\n  const [user, setUser] = useState({});\n  const { user: currentUser } = useContext(AuthContext);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n  useEffect(() => {\n    // if the post.likes array already includes current id, the post is already liked\n    setIsLiked(post.likes.includes(currentUser?._id));\n  }, [currentUser?._id, post.likes]);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await axios.get(`/users?userId=${post.userId}`);\n      setUser(res.data);\n    };\n    fetchUser();\n  }, [post.userId]);\n\n  const likeHandler = async () => {\n    try {\n      await axios.put(`/posts/${post._id}/like`, { userId: currentUser._id });\n    } catch (error) {\n      console.log(error);\n    }\n    setLike(isLiked ? like - 1 : like + 1);\n    setIsLiked(!isLiked);\n  };\n\n  return (\n    <div className=\"post\">\n      <div className=\"postWrapper\">\n        <div className=\"postTop\">\n          <div className=\"postTopLeft\">\n            <Link to={`profile/${user.username}`}>\n              <img\n                src={\n                  user.profilePicture\n                    ? PF + user.profilePicture\n                    : PF + \"person/noAvatar.png\"\n                }\n                alt=\"Profile\"\n                className=\"postProfileImg\"\n              />\n            </Link>\n            <span className=\"postUsername\">{user.username}</span>\n            <span className=\"postDate\">{format(post.createdAt)}</span>\n          </div>\n          <div className=\"postTopRight\">\n            <MoreVert />\n          </div>\n        </div>\n        <div className=\"postCenter\">\n          <span className=\"postText\">{post?.desc}</span>\n          <img src={PF + post.img} alt=\"Post\" className=\"postImg\" />\n        </div>\n        <div className=\"postBottom\">\n          <div className=\"postBottomLeft\">\n            <img\n              className=\"likeIcon\"\n              src={`${PF}like.png`}\n              onClick={likeHandler}\n              alt=\"\"\n            />\n            <img\n              className=\"likeIcon\"\n              src={`${PF}heart.png`}\n              onClick={likeHandler}\n              alt=\"\"\n            />\n            <span className=\"postLikeCounter\">\n              {like} People liked this post\n            </span>\n          </div>\n          <div className=\"postBottomRight\">\n            <span className=\"postCommentText\">\n              {post.comment} {post.comment > 1 ? `comments` : `comment`}\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport Share from \"../share/Share\";\nimport Post from \"../post/Post\";\nimport axios from \"axios\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport \"./feed.css\";\n\nconst Feed = ({ username }) => {\n  const [posts, setPosts] = useState([]);\n  const { user } = useContext(AuthContext);\n\n  useEffect(() => {\n    const fetchPosts = async () => {\n      const res = username\n        ? await axios.get(`/posts/profile/${username}`)\n        : await axios.get(`posts/timeline/${user._id}`);\n      setPosts(\n        // sorts posts by most recent\n        res.data.sort((p1, p2) => {\n          return new Date(p2.createdAt) - new Date(p1.createdAt);\n        })\n      );\n    };\n    fetchPosts();\n  }, [username, user?._id]);\n\n  return (\n    <div className=\"feed\">\n      <div className=\"feedWrapper\">\n        {(!username || username === user?.username) && <Share />}\n        {posts.map((p) => (\n          <Post key={p._id} post={p} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Feed;\n","import React from \"react\";\nimport \"./online.css\";\n\nconst Online = ({ user }) => {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n  return (\n    <li className=\"rightbarFriend\">\n      <div className=\"rightbarProfileImgContainer\">\n        <img\n          src={PF + user.profilePicture}\n          alt=\"\"\n          className=\"rightbarProfileImg\"\n        />\n        <span className=\"rightbarOnline\"></span>\n      </div>\n      <span className=\"rightbarUsername\">{user.username}</span>\n    </li>\n  );\n};\n\nexport default Online;\n","import axios from \"axios\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Users } from \"../../dummyData\";\nimport Online from \"../online/Online\";\nimport { Link } from \"react-router-dom\";\nimport { Add, Remove } from \"@material-ui/icons\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { Follow, Unfollow } from \"../../context/AuthActions\";\nimport \"./rightbar.css\";\n\nconst Rightbar = ({ user }) => {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [friends, setFriends] = useState([]);\n  const { user: currentUser, dispatch } = useContext(AuthContext);\n  const [followed, setFollowed] = useState(false);\n\n  useEffect(() => {\n    setFollowed(currentUser?.followings.includes(`${user?._id}`));\n  }, [user, currentUser]);\n\n  useEffect(() => {\n    const getFriends = async (params) => {\n      try {\n        const friendList = await axios.get(`/users/friends/${user._id}`);\n        setFriends(friendList.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getFriends();\n  }, [user, followed, currentUser?.followings]);\n\n  const handleClick = async () => {\n    try {\n      if (followed) {\n        await axios.put(`/users/${user._id}/unfollow`, {\n          userId: currentUser._id,\n        });\n        dispatch(Unfollow(user._id));\n      } else {\n        await axios.put(`/users/${user._id}/follow`, {\n          userId: currentUser._id,\n        });\n        dispatch(Follow(user._id));\n      }\n      setFollowed(!followed);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const HomeRightbar = () => {\n    return (\n      <>\n        <div className=\"birthdayContainer\">\n          <img src={`${PF}gift.png`} alt=\"\" className=\"birthdayImg\" />\n          <span className=\"birthdayText\">\n            <b>Pola Foster</b> and <b>3 others</b> have a birthday today.\n          </span>\n        </div>\n        <a href=\"https://cloudcomputers.netlify.app\">\n          <img src={`${PF}cloudcomputers.jpg`} alt=\"\" className=\"rightbarAd\" />\n        </a>\n        <h3 className=\"rightbarTitle\">Online Friends</h3>\n        <ul className=\"rightbarFriendList\">\n          {Users.map((u) => (\n            <Online key={u.id} user={u} />\n          ))}\n        </ul>\n      </>\n    );\n  };\n\n  const ProfileRightbar = () => {\n    return (\n      <>\n        {user.username !== currentUser?.username && (\n          <button className=\"rightbarFollowButton\" onClick={handleClick}>\n            {followed ? `Unfollow` : `Follow`}\n            {followed ? <Remove /> : <Add />}\n          </button>\n        )}\n        <h4 className=\"rightbarTitle\">User Information</h4>\n        <div className=\"rightbarInfo\">\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">Current City:</span>\n            <span className=\"rightbarInfoValue\">{user.city}</span>\n          </div>\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">Hometown:</span>\n            <span className=\"rightbarInfoValue\">{user.from}</span>\n          </div>\n          <div className=\"rightbarInfoItem\">\n            <span className=\"rightbarInfoKey\">Relationship Status:</span>\n            <span className=\"rightbarInfoValue\">\n              {user.relationship === 1\n                ? \"Single\"\n                : user.relationship === 2\n                ? \"Married\"\n                : \"-\"}\n            </span>\n          </div>\n        </div>\n        <h4 className=\"rightbarTitle\">User friends</h4>\n        <div className=\"rightbarFollowings\">\n          {friends.map((friend) => (\n            <Link\n              to={`/profile/${friend.username}`}\n              style={{ textDecoration: \"none\" }}\n              key={friend.username}\n            >\n              <div className=\"rightbarFollowing\">\n                <img\n                  src={\n                    friend.profilePicture\n                      ? `${PF}${friend.profilePicture}`\n                      : `${PF}person/noAvatar.png`\n                  }\n                  alt=\"\"\n                  className=\"rightbarFollowingImg\"\n                />\n                <span className=\"rightbarFollowingName\">{friend.username}</span>\n              </div>\n            </Link>\n          ))}\n        </div>\n      </>\n    );\n  };\n\n  return (\n    <div className=\"rightbar\">\n      <div className=\"rightbarWrapper\">\n        {/* if profile prop exists, render profile rightbar. Otherwise, render home rightbar */}\n        {user ? ProfileRightbar() : HomeRightbar()}\n      </div>\n    </div>\n  );\n};\n\nexport default Rightbar;\n","import React from \"react\";\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Feed from \"../../components/feed/Feed\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport \"./home.css\";\n\nconst Home = () => {\n  return (\n    <>\n      <Topbar />\n      <div className=\"homeContainer\">\n        <Sidebar />\n        <Feed />\n        <Rightbar />\n      </div>\n    </>\n  );\n};\n\nexport default Home;\n","import axios from \"axios\";\nimport { LoginStart, LoginSuccess, LoginFailure } from \"../context/AuthActions\";\n\nexport const loginCall = async (userCredential, dispatch) => {\n  dispatch(LoginStart());\n  try {\n    const response = await axios.post(\"/auth/login\", userCredential);\n    dispatch(LoginSuccess(response.data));\n  } catch (error) {\n    dispatch(LoginFailure(error));\n  }\n};\n\nexport const registerCall = async (user) => {\n  const response = await axios.post(\"/auth/register\", user);\n  return response.data;\n};\n","import { useContext, useRef } from \"react\";\nimport \"./login.css\";\nimport { loginCall } from \"../../services/auth\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function Login() {\n  const email = useRef();\n  const password = useRef();\n  const { isFetching, dispatch } = useContext(AuthContext);\n  const history = useHistory();\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    loginCall(\n      { email: email.current.value, password: password.current.value },\n      dispatch\n    );\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"loginWrapper\">\n        <div className=\"loginLeft\">\n          <h3 className=\"loginLogo\">Chat Vault</h3>\n          <span className=\"loginDesc\">\n            Connect with friends and the world around you on Chat Vault.\n          </span>\n        </div>\n        <div className=\"loginRight\">\n          <form className=\"loginBox\" onSubmit={handleClick}>\n            <input\n              placeholder=\"Email\"\n              type=\"email\"\n              required\n              className=\"loginInput\"\n              ref={email}\n            />\n            <input\n              placeholder=\"Password\"\n              type=\"password\"\n              required\n              minLength=\"6\"\n              className=\"loginInput\"\n              ref={password}\n            />\n            <button className=\"loginButton\" type=\"submit\" disabled={isFetching}>\n              {isFetching ? (\n                <CircularProgress color=\"white\" size=\"20px\" />\n              ) : (\n                \"Log In\"\n              )}\n            </button>\n            <span className=\"loginForgot\">Forgot Password?</span>\n            <button\n              className=\"loginRegisterButton\"\n              onClick={() => history.push(`/register`)}\n            >\n              {isFetching ? (\n                <CircularProgress color=\"white\" size=\"20px\" />\n              ) : (\n                \"Create a New Account\"\n              )}\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Topbar from \"../../components/topbar/Topbar\";\nimport Sidebar from \"../../components/sidebar/Sidebar\";\nimport Feed from \"../../components/feed/Feed\";\nimport Rightbar from \"../../components/rightbar/Rightbar\";\nimport { useParams } from \"react-router\";\nimport \"./profile.css\";\n\nexport default function Profile() {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [user, setUser] = useState({});\n  const { username } = useParams(); // fetches username params we defined in our profile react route\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await axios.get(`/users/?username=${username}`);\n      setUser(res.data);\n    };\n    fetchUser();\n  }, [username]); // we include it as a dependency because it is changeable\n\n  return (\n    <>\n      <Topbar />\n      <div className=\"profile\">\n        <Sidebar />\n        <div className=\"profileRight\">\n          <div className=\"profileRightTop\">\n            <div className=\"profileCover\">\n              <img\n                className=\"profileCoverImg\"\n                src={\n                  user.coverPicture\n                    ? `${PF}${user.coverPicture}`\n                    : `${PF}person/noCover.png`\n                }\n                alt=\"Cover\"\n              />\n              <img\n                className=\"profileUserImg\"\n                src={\n                  user.profilePicture\n                    ? `${PF}${user.profilePicture}`\n                    : `${PF}person/noAvatar.png`\n                }\n                alt=\"Profile\"\n              />\n            </div>\n            <div className=\"profileInfo\">\n              <h4 className=\"profileInfoName\">{user.username}</h4>\n              <span className=\"profileInfoDesc\">{user.desc}</span>\n            </div>\n          </div>\n          <div className=\"profileRightBottom\">\n            <Feed username={username} />\n            <Rightbar user={user} />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useRef, useContext } from \"react\";\nimport { loginCall, registerCall } from \"../../services/auth\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { useHistory } from \"react-router\";\nimport \"./register.css\";\n\nconst Register = () => {\n  const { dispatch } = useContext(AuthContext);\n  const username = useRef();\n  const email = useRef();\n  const password = useRef();\n  const passwordAgain = useRef();\n  const history = useHistory();\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    if (passwordAgain.current.value !== password.current.value) {\n      password.current.setCustomValidity(\n        \"The password you entered does not match.\"\n      );\n    } else {\n      const user = {\n        username: username.current.value,\n        email: email.current.value,\n        password: password.current.value,\n      };\n      try {\n        const registerResponse = await registerCall(user);\n        const loginResponse = loginCall(\n          { email: email.current.value, password: password.current.value },\n          dispatch\n        );\n        if (registerResponse && loginResponse) {\n          history.push(\"/\");\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  return (\n    <div className=\"login\">\n      <div className=\"loginWrapper\">\n        <div className=\"loginLeft\">\n          <h3 className=\"loginLogo\">Chat Vault</h3>\n          <span className=\"loginDesc\">\n            Connect with friends and the world around you on Chat Vault\n          </span>\n        </div>\n        <div className=\"loginRight\">\n          <form className=\"loginBox\" onSubmit={handleSubmit}>\n            <input\n              required\n              placeholder=\"Full Name\"\n              ref={username}\n              className=\"loginInput\"\n            />\n            <input\n              required\n              placeholder=\"Email\"\n              ref={email}\n              className=\"loginInput\"\n              type=\"email\"\n            />\n            <input\n              required\n              placeholder=\"Password\"\n              ref={password}\n              className=\"loginInput\"\n              type=\"password\"\n              minLength=\"6\"\n            />\n            <input\n              required\n              placeholder=\"Enter Password Again\"\n              ref={passwordAgain}\n              className=\"loginInput\"\n              type=\"password\"\n            />\n            <span\n              className=\"loginForgot\"\n              onClick={() => history.push(`/login`)}\n            >\n              Already have an account? Log in\n            </span>\n            <button type=\"submit\" className=\"loginButton\">\n              Sign Up\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n","import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./chatOnline.css\";\n\nconst ChatOnline = ({ onlineUsers, currentId, setCurrentChat }) => {\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n  const [friends, setFriends] = useState([]);\n  const [onlineFriends, setOnlineFriends] = useState([]);\n\n  useEffect(() => {\n    // fetch user's friends (following)\n    const getFriends = async () => {\n      try {\n        const res = await axios.get(`/users/friends/${currentId}`);\n        setFriends(res.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getFriends();\n  }, [currentId]);\n\n  useEffect(() => {\n    // filter user's friends who are online\n    setOnlineFriends(\n      friends.filter((friend) => onlineUsers.includes(friend._id))\n    );\n  }, [onlineUsers, friends]);\n\n  const handleClick = async (user) => {\n    try {\n      const res = await axios.get(\n        `/conversations/find/${currentId}/${user._id}`\n      );\n      setCurrentChat(res.data);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className=\"chatOnline\">\n      <h3 className=\"rightbarTitle\">Online Friends</h3>\n      {onlineFriends.map((friend) => (\n        <div\n          key={friend._id}\n          className=\"chatOnlineFriend\"\n          onClick={() => handleClick(friend)}\n        >\n          <div className=\"chatOnlineImgContainer\">\n            <img\n              className=\"chatOnlineImg\"\n              src={\n                friend?.profilePicture\n                  ? PF + friend.profilePicture\n                  : `${PF}person/noAvatar.png`\n              }\n              alt=\"Avatar\"\n            />\n            <div className=\"chatOnlineBadge\"></div>\n          </div>\n          <span className=\"chatOnlineName\">{friend?.username}</span>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default ChatOnline;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"./conversation.css\";\n\nconst Conversation = ({ conversation, currentUser }) => {\n  const [user, setUser] = useState(null);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n  useEffect(() => {\n    const friendId = conversation.members.find((m) => m !== currentUser._id);\n\n    const getUser = async () => {\n      try {\n        const res = await axios(`/users/?userId=${friendId}`);\n        setUser(res.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getUser();\n  }, [currentUser, conversation]);\n\n  return (\n    <div className=\"conversation\">\n      <img\n        src={\n          user?.profilePicture\n            ? `${PF}${user.profilePicture}`\n            : `${PF}person/noAvatar.png`\n        }\n        alt=\"\"\n        className=\"conversationImg\"\n      />\n      <span className=\"conversationName\">{user?.username}</span>\n    </div>\n  );\n};\n\nexport default Conversation;\n","import React, { useEffect, useState } from \"react\";\nimport { format } from \"timeago.js\";\nimport axios from \"axios\";\nimport \"./message.css\";\n\nconst Message = ({ own, message }) => {\n  const [user, setUser] = useState(null);\n  const PF = process.env.REACT_APP_PUBLIC_FOLDER;\n\n  useEffect(() => {\n    const getUser = async () => {\n      try {\n        const res = await axios(`/users/?userId=${message.sender}`);\n        setUser(res.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getUser();\n  }, [message]);\n\n  return (\n    <div className={own ? \"message own\" : \"message\"}>\n      <div className=\"messageTop\">\n        <img\n          className=\"messageImg\"\n          src={\n            user?.profilePicture\n              ? PF + user?.profilePicture\n              : `${PF}person/noAvatar.png`\n          }\n          alt=\"\"\n        />\n        <p className=\"messageText\">{message.text}</p>\n      </div>\n      <div className=\"messageBottom\">{format(message.createdAt)}</div>\n    </div>\n  );\n};\n\nexport default Message;\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\nimport ChatOnline from \"../../components/chatOnline/ChatOnline\";\nimport Conversation from \"../../components/conversations/Conversation\";\nimport Message from \"../../components/message/Message\";\nimport Topbar from \"../../components/topbar/Topbar\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport axios from \"axios\";\nimport { io } from \"socket.io-client\";\nimport \"./messenger.css\";\n\nconst Messenger = () => {\n  const { user } = useContext(AuthContext);\n  const [conversations, setConversations] = useState([]);\n  const [currentChat, setCurrentChat] = useState(null);\n  const [newMessage, setNewMessage] = useState(\"\");\n  const [arrivalMessage, setArrivalMessage] = useState(null);\n  const [messages, setMessages] = useState(null);\n  const [onlineUsers, setOnlineUsers] = useState([]);\n  const socket = useRef();\n  const scrollRef = useRef();\n\n  useEffect(() => {\n    socket.current = io(\"ws://localhost:3001\");\n    // fetch message from socket server\n    socket.current.on(\"getMessage\", (data) => {\n      setArrivalMessage({\n        sender: data.senderId,\n        text: data.text,\n        createdAt: Date.now(),\n      });\n    });\n  }, []);\n\n  useEffect(() => {\n    // if socket message exists and if current chat is from sender, update message\n    arrivalMessage &&\n      currentChat?.members.includes(arrivalMessage.sender) &&\n      setMessages((prev) => [...prev, arrivalMessage]);\n    // prev is used so messages does not have to be included in dependency list\n  }, [arrivalMessage, currentChat]);\n\n  useEffect(() => {\n    socket.current.emit(\"addUser\", user._id); // send user id to socket server\n    socket.current.on(\"getUsers\", (users) => {\n      // retreive user's friends\n      // for each friend, check if their user id matches the id of user who connected to the socket\n      // if it does, set to onlineUsers state\n      setOnlineUsers(\n        user?.followings.filter((f) => users.some((u) => u.userId === f))\n      );\n    });\n  }, [user]);\n\n  useEffect(() => {\n    const getConversations = async () => {\n      try {\n        const res = await axios.get(`/conversations/${user._id}`);\n        setConversations(res.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getConversations();\n  }, [user._id]);\n\n  useEffect(() => {\n    const getMessages = async () => {\n      try {\n        const res = await axios.get(`/messages/${currentChat?._id}`);\n        setMessages(res.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getMessages();\n  }, [currentChat]);\n\n  useEffect(() => {\n    scrollRef.current?.scrollIntoView({ behaviour: \"smooth\" });\n  }, [messages]);\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const message = {\n      sender: user._id,\n      text: newMessage,\n      conversationId: currentChat._id,\n    };\n\n    // send message to socket server\n    const receiverId = currentChat.members.find(\n      (member) => member !== user._id\n    );\n    socket.current.emit(\"sendMessage\", {\n      senderId: user._id,\n      receiverId,\n      text: newMessage,\n    });\n\n    try {\n      const res = await axios.post(\"/messages\", message);\n      setMessages([...messages, res.data]);\n      setNewMessage(\"\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return (\n    <>\n      <Topbar />\n      <div className=\"messenger\">\n        <div className=\"chatMenu\">\n          <div className=\"chatMenuWrapper\">\n            <input placeholder=\"Search for friends\" className=\"chatMenuInput\" />\n            {conversations.map((c) => (\n              <div key={c._id} onClick={() => setCurrentChat(c)}>\n                <Conversation conversation={c} currentUser={user} />\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"chatBox\">\n          <div className=\"chatBoxWrapper\">\n            {currentChat ? (\n              <>\n                <div className=\"chatBoxTop\">\n                  {messages.map((m) => (\n                    <div key={m._id} ref={scrollRef}>\n                      <Message message={m} own={m.sender === user._id} />\n                    </div>\n                  ))}\n                </div>\n                <form className=\"chatBoxBottom\" onSubmit={handleSubmit}>\n                  <input\n                    value={newMessage}\n                    className=\"chatMessageInput\"\n                    placeholder=\"Type your message here...\"\n                    onChange={(e) => setNewMessage(e.target.value)}\n                  ></input>\n                  <button type=\"submit\" className=\"chatSubmitButton\">\n                    Send\n                  </button>\n                </form>\n              </>\n            ) : (\n              <span className=\"noConversationText\">\n                Open a conversation to start a chat\n              </span>\n            )}\n          </div>\n        </div>\n        <div className=\"chatOnline\">\n          <div className=\"chatOnlineWrapper\">\n            <ChatOnline\n              onlineUsers={onlineUsers}\n              currentId={user._id}\n              setCurrentChat={setCurrentChat}\n            />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Messenger;\n","import Home from \"./pages/home/Home\";\nimport Login from \"./pages/login/Login\";\nimport Profile from \"./pages/profile/Profile\";\nimport Register from \"./pages/register/Register\";\nimport Messenger from \"./pages/messenger/Messenger\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"./context/AuthContext\";\n\nfunction App() {\n  const { user } = useContext(AuthContext);\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/\">\n          {user ? <Home /> : <Login />}\n        </Route>\n        <Route path=\"/login\">{user ? <Redirect to=\"/\" /> : <Login />}</Route>\n        <Route path=\"/register\">\n          {user ? <Redirect to=\"/\" /> : <Register />}\n        </Route>\n        <Route path=\"/messenger\">\n          {!user ? <Redirect to=\"/\" /> : <Messenger />}\n        </Route>\n        <Route path=\"/profile/:username\">\n          {user ? <Profile /> : <Login />}\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}